import os

# =============================================================================
# DoResearch 配置文件模板
# 复制此文件为 config.py 并根据你的环境修改配置值
# =============================================================================

# DeepSeek API配置
DEEPSEEK_API_KEY = 'your-deepseek-api-key-here'

# 数据库配置
DATABASE_PATH = 'papers.db'

# 文件存储配置
DATA_DIR = 'data'
PDF_DIR = os.path.join(DATA_DIR, 'pdfs')
LOG_DIR = os.path.join(DATA_DIR, 'logs')

# 任务配置
TASK_CHECK_INTERVAL = 2  # 任务检查间隔（秒）
AGENT_HEARTBEAT_TIMEOUT = 60  # Agent心跳超时（秒）

# API配置
AGENT_REQUEST_TIMEOUT = 300  # Agent请求超时（秒）

# CORS配置 - 允许的前端域名
CORS_ORIGINS = [
    # 开发环境
    "http://localhost:3000", "http://127.0.0.1:3000", 
    "http://localhost:5173", "http://127.0.0.1:5173",
    # 生产环境 - 根据你的前端部署域名修改
    "https://research.hxgpark.com",
    "https://your-frontend-domain.com"  # 添加你的其他域名
]

# 外部服务配置 - 论文抓取微服务
# 如果你有自己的微服务实例，请修改 base_url
EXTERNAL_SERVICE_CONFIG = {
    'base_url': os.getenv('PAPER_FETCHER_SERVICE_URL', 'http://localhost:8000'),
    'timeout': int(os.getenv('PAPER_FETCHER_TIMEOUT', '30')),
    'api_version': 'v1',
    'retry_attempts': int(os.getenv('PAPER_FETCHER_RETRY', '3')),
    'retry_delay': float(os.getenv('PAPER_FETCHER_RETRY_DELAY', '2.0')),
}

# =============================================================================
# 环境变量配置说明
# =============================================================================
# 
# 你也可以通过环境变量来配置这些值，环境变量会覆盖上面的默认值：
# 
# export PAPER_FETCHER_SERVICE_URL=http://your-service:8000
# export PAPER_FETCHER_TIMEOUT=30
# export PAPER_FETCHER_RETRY=3
# export PAPER_FETCHER_RETRY_DELAY=2.0
# export SYNC_CHECK_INTERVAL=60
# export MAX_SUBSCRIPTIONS_PER_USER=50
# export CORS_ORIGINS=https://your-frontend.com,https://another-domain.com
# 
# 更多环境变量请参考 docs/ENVIRONMENT_VARIABLES.md
# =============================================================================